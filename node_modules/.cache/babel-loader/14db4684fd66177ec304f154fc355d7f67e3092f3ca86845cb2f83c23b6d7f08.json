{"ast":null,"code":"import _objectSpread from\"/Users/akirawatson-brown/Desktop/PursuitGitLessons/Module3/youtubeCloneProject/youtube-clone-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/akirawatson-brown/Desktop/PursuitGitLessons/Module3/youtubeCloneProject/youtube-clone-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/akirawatson-brown/Desktop/PursuitGitLessons/Module3/youtubeCloneProject/youtube-clone-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/akirawatson-brown/Desktop/PursuitGitLessons/Module3/youtubeCloneProject/youtube-clone-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from\"react-router-dom\";import React,{useEffect,useState}from\"react\";import Youtube from\"react-youtube\";import{db}from\"../firebase-config\";import{collection,getDocs,addDoc}from\"firebase/firestore\";//import { v1 as uuidv1 } from \"uuid\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Video(){var _useParams=useParams(),videoId=_useParams.videoId;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),commenterName=_useState2[0],setCommenterName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),commentText=_useState4[0],setCommentText=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),videoComments=_useState6[0],setVideoComments=_useState6[1];var commentCollection=collection(db,\"commentSection\");var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),hasSubmitted=_useState8[0],setSubmit=_useState8[1];function handleSubmit(e){e.preventDefault();setSubmit(!hasSubmitted);addComment();resetForm();}function resetForm(){setCommenterName(\"\");setCommentText(\"\");//setSubmit(false);\n}function addComment(){return _addComment.apply(this,arguments);}function _addComment(){_addComment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return addDoc(commentCollection,{commenter:commenterName,videoID:videoId,comment:commentText});case 2:case\"end\":return _context.stop();}},_callee);}));return _addComment.apply(this,arguments);}function getDatabaseTest(){return _getDatabaseTest.apply(this,arguments);}function _getDatabaseTest(){_getDatabaseTest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data,result,filteredComments;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getDocs(commentCollection);case 2:data=_context2.sent;result=data.docs.map(function(doc){return _objectSpread({},doc.data());});//console.log(result);\nfilteredComments=result.filter(function(item){var local;if(item.videoID===videoId){local=item;}return local;});//console.log(filteredComments);\nsetVideoComments(filteredComments);case 6:case\"end\":return _context2.stop();}},_callee2);}));return _getDatabaseTest.apply(this,arguments);}useEffect(function(){getDatabaseTest();},[hasSubmitted]);return/*#__PURE__*/ (// d-flex justify-content-center position-absolute top-50 start-50 translate-middle text-center\n_jsxs(\"div\",{className:\"container align-middle\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-2\",style:{width:\"700px\"},children:/*#__PURE__*/_jsx(Youtube,{videoId:videoId})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Commenter Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"commenter-name\",id:\"commenter-name\",onChange:function onChange(e){return setCommenterName(e.target.value);},value:commenterName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"comment\",className:\"form-label\",children:\"Comment:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"comment\",id:\"comment\",className:\"form-control\",onChange:function onChange(e){return setCommentText(e.target.value);},value:commentText})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Comment\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container vstack gap-3\",children:videoComments.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:item.commenter}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"blockquote\",{className:\"blockquote mb-0\",children:/*#__PURE__*/_jsx(\"p\",{children:item.comment})})})]},index);})})]}));}","map":{"version":3,"names":["useParams","React","useEffect","useState","Youtube","db","collection","getDocs","addDoc","jsx","_jsx","jsxs","_jsxs","Video","_useParams","videoId","_useState","_useState2","_slicedToArray","commenterName","setCommenterName","_useState3","_useState4","commentText","setCommentText","_useState5","_useState6","videoComments","setVideoComments","commentCollection","_useState7","_useState8","hasSubmitted","setSubmit","handleSubmit","e","preventDefault","addComment","resetForm","_addComment","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","commenter","videoID","comment","stop","getDatabaseTest","_getDatabaseTest","_callee2","data","result","filteredComments","_callee2$","_context2","sent","docs","map","doc","_objectSpread","filter","item","local","className","children","style","width","onSubmit","type","name","id","onChange","target","value","htmlFor","index"],"sources":["/Users/akirawatson-brown/Desktop/PursuitGitLessons/Module3/youtubeCloneProject/youtube-clone-app/src/Components/Video.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport Youtube from \"react-youtube\";\nimport { db } from \"../firebase-config\";\nimport { collection, getDocs, addDoc } from \"firebase/firestore\";\n//import { v1 as uuidv1 } from \"uuid\";\nexport default function Video() {\n  const { videoId } = useParams();\n  const [commenterName, setCommenterName] = useState(\"\");\n  const [commentText, setCommentText] = useState(\"\");\n  const [videoComments, setVideoComments] = useState([]);\n  const commentCollection = collection(db, \"commentSection\");\n  const [hasSubmitted, setSubmit] = useState(false);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setSubmit(!hasSubmitted);\n    addComment();\n    resetForm();\n  }\n  function resetForm() {\n    setCommenterName(\"\");\n    setCommentText(\"\");\n    //setSubmit(false);\n  }\n  async function addComment() {\n    await addDoc(commentCollection, {\n      commenter: commenterName,\n      videoID: videoId,\n      comment: commentText,\n    });\n  }\n  async function getDatabaseTest() {\n    const data = await getDocs(commentCollection);\n    const result = data.docs.map((doc) => ({\n      ...doc.data(),\n    }));\n\n    //console.log(result);\n    const filteredComments = result.filter((item) => {\n      let local;\n      if (item.videoID === videoId) {\n        local = item;\n      }\n      return local;\n    });\n    //console.log(filteredComments);\n    setVideoComments(filteredComments);\n  }\n\n  useEffect(() => {\n    getDatabaseTest();\n  }, [hasSubmitted]);\n\n  return (\n    // d-flex justify-content-center position-absolute top-50 start-50 translate-middle text-center\n    <div className=\"container align-middle\">\n      <div className=\"container mx-auto p-2\" style={{ width: \"700px\" }}>\n        <Youtube videoId={videoId} />\n      </div>\n\n      <div className=\"container\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Commenter Name:</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"commenter-name\"\n              id=\"commenter-name\"\n              onChange={(e) => setCommenterName(e.target.value)}\n              value={commenterName}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"comment\" className=\"form-label\">\n              Comment:\n            </label>\n            <input\n              type=\"text\"\n              name=\"comment\"\n              id=\"comment\"\n              className=\"form-control\"\n              onChange={(e) => setCommentText(e.target.value)}\n              value={commentText}\n            />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Comment\n          </button>\n\n          {/* <ul className=\"Comments\">\n            {commentArray.map((id, index) => {\n              return (\n                <li key={index}>\n                  {id.commenterName} says {`${id.comment}`}\n                </li>\n              );\n            })}\n          </ul> */}\n        </form>\n      </div>\n      <div className=\"container vstack gap-3\">\n        {videoComments.map((item, index) => {\n          return (\n            <div className=\"card p-2\" key={index}>\n              <div className=\"card-header\">{item.commenter}</div>\n              <div className=\"card-body\">\n                <blockquote className=\"blockquote mb-0\">\n                  <p>{item.comment}</p>\n                </blockquote>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}